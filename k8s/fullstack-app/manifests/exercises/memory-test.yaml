apiVersion: v1
kind: Pod
metadata:
  name: memory-hog
spec:
  containers:
  - name: stress
    image: polinux/stress
    resources:
      requests:
        memory: "50Mi"
        cpu: "50m"
      limits:
        memory: "100Mi"     # Only allow 100MB
        cpu: "100m"
    command: ["stress"]
    args:
    - "--vm"              # Virtual memory stress test
    - "1"                 # 1 worker
    - "--vm-bytes"        
    - "150M"              # Try to allocate 150MB (MORE than our 100Mi limit!)
    - "--vm-hang"
    - "1"